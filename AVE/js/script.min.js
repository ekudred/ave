const images=document.images,imagesTotalCount=images.length,preloader=document.getElementById("page-preloader");let imagesLoaderCount=0;const imageLoader=()=>{imagesLoaderCount++,imagesLoaderCount>=imagesTotalCount&&(window.onload=function(){setTimeout(()=>{preloader.classList.contains("done")||preloader.classList.add("done")},1e3)})};if(sessionStorage.getItem("preload"))preloader.style.display="none";else{for(let e=0;e<imagesTotalCount;e++)imageClone=new Image,imageClone.onload=imageLoader,imageClone.onerror=imageLoader,imageClone.src=images[e].src;sessionStorage.setItem("preload",!0)}class Modal{constructor(e){this.config=Object.assign({blocks:"",destroyed:!1},e),this.blocks=document.querySelectorAll(this.config.blocks),this.btnOpen=document.querySelector(this.config.btnOpen),this.modals=document.querySelectorAll(".modal-wrapper"),this.render(),this.open(),this.close()}render(){this.blocks.forEach((e,t)=>{e.dataset.index=t}),this.blocks.forEach((e,t)=>{e.insertAdjacentHTML("beforebegin",`\n                <div class="modal-wrapper" data-modal-index="${t}">\n                    <div class="modal">\n                        <div class="modal-container">\n                            <div class="modal-close">\n                                <svg viewBox="0 0 32 32">\n                                    <g>\n                                        <line class="cls-1" x1="7" x2="25" y1="7" y2="25"/>\n                                        <line x1="7" x2="25" y1="25" y2="7"/>\n                                    </g>\n                                </svg>\n                                </div>\n                            <img src="${e.children[0].src}">\n                        </div>\n                    </div>\n                </div>\n            `)})}open(){const e=document.querySelectorAll(".modal-wrapper");this.blocks.forEach((t,a)=>{t.addEventListener("click",()=>{e[a].classList.add("modal-open"),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||(document.body.offsetHeight>window.innerHeight||document.body.offsetHeight>document.documentElement.clientHeight)&&(document.body.style.paddingRight="17px"),document.body.style.overflow="auto hidden",setTimeout(()=>{e[a].children[0].children[0].classList.add("anim")},20)})})}close(){const e=document.querySelectorAll(".modal-wrapper"),t=e=>{setTimeout(()=>{e.classList.remove("modal-open")},100),e.children[0].children[0].classList.remove("anim"),document.body.style.paddingRight="0",document.body.style.overflow="auto"};e.forEach(e=>{e.querySelector(".modal-close").addEventListener("click",()=>{t(e)}),e.addEventListener("click",a=>{a.target===e&&t(e)}),document.body.addEventListener("keydown",()=>{27===event.keyCode&&e.classList.contains("modal-open")&&t(e)})})}}const rangeModal=new Modal({blocks:".range-modal"}),mainModal=new Modal({blocks:".main-modal"}),burger=document.querySelector(".burger-wrapper"),burgerNav=document.querySelector(".burger-navigation-wrapper");burger.addEventListener("click",()=>{if(burgerNav.classList.contains("active"))return burgerNav.classList.remove("anim"),void setTimeout(()=>{burgerNav.classList.remove("active")},200);burgerNav.classList.add("active"),setTimeout(()=>{burgerNav.classList.add("anim")},20)});const addIndex=e=>{e.forEach((e,t)=>{e.dataset.index=t})},bt=document.querySelectorAll(".bt"),bsn=document.querySelectorAll(".burger-sub-nav");addIndex(bt),addIndex(bsn),bt.forEach(e=>{e.addEventListener("click",()=>{bsn[e.dataset.index].classList.contains("open")?bsn[e.dataset.index].classList.remove("open"):bsn[e.dataset.index].classList.add("open")})}),ymaps.ready((function(){var e=new ymaps.Map("map",{center:[51.511561,-.139167],zoom:16},{searchControlProvider:"yandex#search"}),t=(ymaps.templateLayoutFactory.createClass('<div style="color: #FFFFFF; font-weight: bold;">$[properties.iconContent]</div>'),new ymaps.Placemark(e.getCenter(),{hintContent:"Собственный значок метки",balloonContent:"Это красивая метка"},{iconLayout:"default#image",iconImageHref:"img/map-icon.png",iconImageSize:[50,50],iconImageOffset:[0,0]}));e.behaviors.disable("scrollZoom"),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&e.behaviors.disable("drag"),e.geoObjects.add(t)})),$(document).ready((function(){$(".product-images").slick({infinite:!0,slidesToScroll:!0,draggable:!0,slidesToShow:1,adaptiveHeight:!0,speed:100,fade:!0,cssEase:"linear"})}));const defaultSelect=()=>{const e=document.querySelector("#colour-select"),t=document.querySelector("#size-select");new Choices(e,{searchEnabled:!1}),new Choices(t,{searchEnabled:!1})};defaultSelect();class Tab{constructor(e,t,a,o){this.tabs=document.querySelectorAll(e),this.tabsContent=document.querySelectorAll(t),this.tabActive=a,this.tabContentActive=o,this.addIndex(),this.clickHandler(),this.hook()}addIndex(){this.tabs.forEach((e,t)=>{e.dataset.index=t}),this.tabsContent.forEach((e,t)=>{e.dataset.index=t})}clickHandler(){const e=(e,t)=>{e.forEach((function(e){e.classList.remove(t)}))};this.tabs.forEach(t=>{t.addEventListener("click",()=>{t.classList.contains(this.tabActive)||(e(this.tabs,this.tabActive),e(this.tabsContent,this.tabContentActive),this.tabsContent.forEach(e=>{t.dataset.index===e.dataset.index&&(e.classList.add(this.tabContentActive),t.classList.add(this.tabActive))}))})})}hook(){this.tabs[0].click()}}const tab=new Tab(".product-tab",".tab-content","product-tab-active","tab-content-active");